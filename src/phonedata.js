
const phones = [{"os":"Android","name":"گوشی موبایل اپل 128Gb 9","brand":"اپل","image":"https://bucket-15.digicloud-oss.com/digikala-products/111098531.jpg?h=800&q=80","interal":"128Gb","date":"2019-03-05T13:19:32.304Z","price":122,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 16Gb 12","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/110993785.jpg?h=800&q=80","interal":"16Gb","date":"2019-08-22T21:46:23.580Z","price":299,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 32Gb 6","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/1335242.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2019-08-12T07:12:30.630Z","price":299,"camera":"16 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 16Gb 11","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/111473340.jpg?h=800&q=80","interal":"16Gb","date":"2018-11-12T13:46:40.981Z","price":456,"camera":"12 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل هوایی 64Gb 10","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/110964172.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-06-10T19:41:05.178Z","price":199,"camera":"12 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 64Gb 4","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/110993785.jpg?h=800&q=80","interal":"64Gb","date":"2018-12-14T17:54:34.393Z","price":599,"camera":"24 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل اپل 64Gb 12","brand":"اپل","image":"https://bucket-15.digicloud-oss.com/digikala-products/111095352.jpg?h=800&q=80","interal":"64Gb","date":"2019-01-10T07:12:48.699Z","price":167,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل سامسونگ 128Gb 8","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/791490.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-11-15T10:04:26.072Z","price":299,"camera":"12 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 32Gb 11","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/112519631.jpg?h=800&q=80","interal":"32Gb","date":"2019-04-10T08:38:50.110Z","price":255,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل اپل 128Gb 13","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/112150989.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-11-25T20:10:53.845Z","price":299,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 128Gb 4","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/1335242.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-11-30T08:25:24.411Z","price":499,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 128Gb 8","brand":"سامسونگ","image":"https://bucket-15.digicloud-oss.com/digikala-products/110993785.jpg?h=800&q=80","interal":"128Gb","date":"2019-02-03T11:23:25.621Z","price":999,"camera":"8 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل هوایی 16Gb 11","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/111592296.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2019-04-11T22:33:47.630Z","price":199,"camera":"24 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 32Gb 6","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/111183466.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2019-06-17T04:14:25.733Z","price":145,"camera":"8 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل اپل 32Gb 13","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/112150989.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2018-11-03T17:25:22.978Z","price":399,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 32Gb 6","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/110993785.jpg?h=800&q=80","interal":"32Gb","date":"2018-12-07T17:07:29.805Z","price":99,"camera":"12 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل اپل 64Gb 13","brand":"اپل","image":"https://bucket-15.digicloud-oss.com/digikala-products/111451913.jpg?h=800&q=80","interal":"64Gb","date":"2019-03-04T05:02:05.008Z","price":299,"camera":"24 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل سامسونگ 16Gb 12","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/112150989.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2019-08-03T11:22:15.763Z","price":255,"camera":"8 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل سامسونگ 64Gb 10","brand":"سامسونگ","image":"https://bucket-15.digicloud-oss.com/digikala-products/111098531.jpg?h=800&q=80","interal":"64Gb","date":"2019-06-28T23:41:06.132Z","price":199,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 128Gb 11","brand":"سامسونگ","image":"https://bucket-15.digicloud-oss.com/digikala-products/4560827.jpg?h=800&q=80","interal":"128Gb","date":"2019-07-06T20:27:16.655Z","price":399,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل اپل 32Gb 4","brand":"اپل","image":"https://dkstatics-public-2.digikala.com/digikala-products/111453471.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2018-11-11T21:38:01.575Z","price":255,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 64Gb 10","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/112719086.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-01-04T00:34:12.666Z","price":122,"camera":"12 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 128Gb 9","brand":"هوایی","image":"https://dkstatics-public-2.digikala.com/digikala-products/111453471.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2019-06-07T23:08:54.539Z","price":199,"camera":"24 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 64Gb 6","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/110964172.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-04-10T20:50:03.838Z","price":199,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 32Gb 4","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/110964172.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2019-06-07T14:42:35.405Z","price":456,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل اپل 16Gb 4","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/110964172.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2018-09-13T18:45:30.259Z","price":145,"camera":"16 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 128Gb 5","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/111592296.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2019-06-19T23:30:53.135Z","price":199,"camera":"12 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل هوایی 16Gb 13","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/112519631.jpg?h=800&q=80","interal":"16Gb","date":"2019-01-22T13:09:44.416Z","price":199,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل اپل 128Gb 7","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/791592.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-10-23T13:26:09.751Z","price":122,"camera":"16 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل سامسونگ 128Gb 7","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/111460798.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-12-27T20:21:27.373Z","price":122,"camera":"24 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل سامسونگ 128Gb 11","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/791692.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2019-01-13T08:43:24.183Z","price":599,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 128Gb 13","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/111592296.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2018-11-08T16:32:21.294Z","price":199,"camera":"24 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 16Gb 13","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/930613.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2019-04-12T15:23:04.323Z","price":199,"camera":"24 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل هوایی 64Gb 5","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/930613.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-02-19T17:06:21.021Z","price":255,"camera":"16 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل سامسونگ 16Gb 13","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/791490.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2019-07-24T11:07:54.447Z","price":599,"camera":"12 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل اپل 16Gb 9","brand":"اپل","image":"https://bucket-15.digicloud-oss.com/digikala-products/111473340.jpg?h=800&q=80","interal":"16Gb","date":"2019-08-19T07:51:49.649Z","price":999,"camera":"24 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل اپل 16Gb 13","brand":"اپل","image":"https://bucket-15.digicloud-oss.com/digikala-products/2311015.jpg?h=800&q=80","interal":"16Gb","date":"2018-12-28T08:17:48.599Z","price":145,"camera":"8 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل هوایی 32Gb 12","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/791490.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2019-05-13T11:48:32.674Z","price":499,"camera":"16 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل سامسونگ 32Gb 11","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/3696535.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2018-09-01T08:12:31.814Z","price":99,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 64Gb 7","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/791692.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2018-11-14T10:32:05.635Z","price":199,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 64Gb 8","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/111183466.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-06-11T11:52:50.567Z","price":255,"camera":"24 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 64Gb 9","brand":"هوایی","image":"https://bucket-15.digicloud-oss.com/digikala-products/111098531.jpg?h=800&q=80","interal":"64Gb","date":"2018-09-08T23:29:50.299Z","price":199,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 32Gb 11","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/112719086.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2018-09-18T17:26:15.853Z","price":122,"camera":"12 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل اپل 32Gb 10","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/110964172.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"32Gb","date":"2019-02-28T11:10:57.607Z","price":299,"camera":"8 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل هوایی 64Gb 6","brand":"هوایی","image":"https://dkstatics-public.digikala.com/digikala-products/791692.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-06-23T14:30:44.838Z","price":145,"camera":"24 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل هوایی 128Gb 4","brand":"هوایی","image":"https://dkstatics-public-2.digikala.com/digikala-products/111453471.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"128Gb","date":"2019-08-08T06:16:03.736Z","price":199,"camera":"12 مگاپیکسل"},{"os":"Android","name":"گوشی موبایل سامسونگ 16Gb 12","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/791592.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2018-09-21T12:51:31.588Z","price":299,"camera":"8 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل سامسونگ 16Gb 4","brand":"سامسونگ","image":"https://dkstatics-public.digikala.com/digikala-products/1335242.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2018-10-26T07:20:07.159Z","price":199,"camera":"12 مگاپیکسل"},{"os":"WindowsPhone","name":"گوشی موبایل اپل 16Gb 13","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/111183466.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"16Gb","date":"2019-01-03T12:10:19.894Z","price":199,"camera":"16 مگاپیکسل"},{"os":"IOS","name":"گوشی موبایل اپل 64Gb 11","brand":"اپل","image":"https://dkstatics-public.digikala.com/digikala-products/791692.jpg?x-oss-process=image/resize,h_800/quality,q_80","interal":"64Gb","date":"2019-01-03T07:05:20.398Z","price":199,"camera":"8 مگاپیکسل"}]

export const getPhones = ({ page = 1, /** { name, items } */ sort, priceRange, direction, ...filters }) => {
    console.log('FILTERS',filters)
    console.log('PAGE', page)
    let output = phones;
    if(priceRange)
        output = output.filter(phone => phone.price >= priceRange[0] && phone.price <= priceRange[1])
    if (filters)
        for (let filter in filters) {
            if (filters[filter].length > 0)
                output = output.filter(phone => filters[filter].includes(phone[filter]))
        }
    let func = direction === -1 ? (a,b) => b[sort] - a[sort] : (a,b) => a[sort] - b[sort]; 
    output.sort(func);
    return { 
        number: output.length,
        phones: output.slice((page - 1) * 9, page * 9) 
    };
}

export const distinct = (key) => {
    return [...new Set(phones.map(x => x[key]))]
}